<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CEREBRO - Visualizador de Ranges MTT</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- ============================================
         TELA 1: HOME
         ============================================ -->
    <div class="home-screen" id="homeScreen">
        <div class="logo">CEREBRO</div>
        <div class="subtitle">VISUALIZADOR DE RANGES MTT</div>
        <div class="category-grid">
            <div class="category-card disabled">
                <div class="icon">üéØ</div>
                <div class="name">PKO</div>
                <div class="status">Em breve</div>
            </div>
            <div class="category-card active" onclick="showPhaseScreen()">
                <div class="icon">‚öîÔ∏è</div>
                <div class="name">VANILLA</div>
                <div class="status">‚úì Dispon√≠vel</div>
            </div>
            <div class="category-card disabled">
                <div class="icon">üéÆ</div>
                <div class="name">Drill</div>
                <div class="status">Em breve</div>
            </div>
            <div class="category-card disabled">
                <div class="icon">üîç</div>
                <div class="name">AULAS</div>
                <div class="status">Em breve</div>
            </div>
        </div>
    </div>

    <!-- ============================================
         TELA 2: SELE√á√ÉO DE FASE
         ============================================ -->
    <div class="phase-screen" id="phaseScreen">
        <div class="phase-header">
            <button class="back-btn-simple" onclick="showHomeScreen()">‚Üê Voltar</button>
            <div>
                <div class="phase-title">Selecione a Fase</div>
                <div class="phase-subtitle">VANILLA ‚Ä¢ MTT 7-max</div>
            </div>
        </div>
        <div class="phase-content">
            <!-- cEV -->
            <div class="phase-section">
                <div class="section-title">cEV (Chip EV)</div>
                <div class="phase-grid">
                    <div class="phase-card disabled">
                        <span class="phase-icon">üíé</span>
                        <span class="phase-name">CEV - DIAMOND SYMMETRIC</span>
                        <span class="phase-badge badge-soon">SOON</span>
                    </div>
                    <div class="phase-card active" onclick="showVisualizer()">
                        <span class="phase-icon">‚è±Ô∏è</span>
                        <span class="phase-name">CEV - SYMMETRIC</span>
                        <span class="phase-badge badge-spots" id="phaseBadgeSpots">- spots</span>
                    </div>
                </div>
            </div>
            <!-- % do Field -->
            <div class="phase-section">
                <div class="section-title">Fases por % do Field</div>
                <div class="phase-grid">
                    <div class="phase-card disabled"><span class="phase-icon">üìä</span><span class="phase-name">75% DO FIELD</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üìä</span><span class="phase-name">50% DO FIELD</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üìä</span><span class="phase-name">40% DO FIELD</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">ü´ß</span><span class="phase-name">BOLHA</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üìä</span><span class="phase-name">25% DO FIELD</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üìä</span><span class="phase-name">22% DO FIELD - SYMMETRIC</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üíµ</span><span class="phase-name">BUBBLE ITM</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üìä</span><span class="phase-name">5% DO FIELD</span><span class="phase-badge badge-soon">SOON</span></div>
                </div>
            </div>
            <!-- Reta Final -->
            <div class="phase-section">
                <div class="section-title">Reta Final</div>
                <div class="phase-grid">
                    <div class="phase-card disabled"><span class="phase-icon">üÉè</span><span class="phase-name">15-18 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üÉè</span><span class="phase-name">13-12 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üÉè</span><span class="phase-name">13-14 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üÉè</span><span class="phase-name">10-18 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üÉè</span><span class="phase-name">3 TABLES</span><span class="phase-badge badge-soon">SOON</span></div>
                </div>
            </div>
            <!-- Final Table -->
            <div class="phase-section">
                <div class="section-title">Final Table</div>
                <div class="phase-grid">
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">9 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">8 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">7 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">6 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">5 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">4 JOGADORES</span><span class="phase-badge badge-soon">SOON</span></div>
                    <div class="phase-card disabled"><span class="phase-icon">üèÜ</span><span class="phase-name">3-LEFT SYMMETRIC</span><span class="phase-badge badge-soon">SOON</span></div>
                </div>
            </div>
            <!-- Heads-Up -->
            <div class="phase-section">
                <div class="section-title">Heads-Up</div>
                <div class="phase-grid">
                    <div class="phase-card active" onclick="showVisualizerHU()">
                        <span class="phase-icon">ü•ä</span>
                        <span class="phase-name">HU</span>
                        <span class="phase-badge badge-spots" id="phaseBadgeSpotsHU">- spots</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================
         TELA 3: VISUALIZADOR
         ============================================ -->
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <div class="viz-header">
            <div class="viz-header-left">
                <span class="brain-icon">üß†</span>
                <div>
                    <div class="viz-logo">CEREBRO</div>
                    <div class="viz-subtitle">VANILLA MTT ‚Ä¢ Texas Hold'em</div>
                </div>
            </div>
            <div class="viz-header-center">
                <div class="stat-box">
                    <div class="stat-number" id="statSpots">-</div>
                    <div class="stat-label">SPOTS</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="statStacks">-</div>
                    <div class="stat-label">STACKS</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="statPositions">7</div>
                    <div class="stat-label">POSI√á√ïES</div>
                </div>
            </div>
            <button class="menu-btn" onclick="showPhaseScreen()">‚Üê Menu Principal</button>
        </div>

        <!-- Stack Bar -->
        <div class="stack-bar" id="stackBar"></div>

        <!-- Main Content -->
        <div class="viz-main">
            <!-- Left Panel - Mesa -->
            <div class="left-panel">
                <div class="left-panel-header">
                    <button class="back-btn" onclick="goBack()">‚Üê Voltar</button>
                    <span class="position-badge" id="heroBadge">?</span>
                </div>
                <div class="mesa-header">
                    <div class="mesa-label">MESA 7-MAX</div>
                    <div class="mesa-stack-label" id="mesaStackLabel">100BB</div>
                </div>

                <!-- Mesa -->
                <div class="mesa-container">
                    <div class="mesa-oval">
                        <div class="mesa-center">
                            <div class="mesa-title">MTT 7-MAX</div>
                            <div class="mesa-blinds">0.5bb / 1bb</div>
                            <div class="mesa-blinds-label">Blinds</div>
                        </div>
                    </div>
                    <!-- Seats -->
                    <div class="seat seat-ep" onclick="selectPosition(0)">
                        <div class="seat-box">
                            <div class="seat-position">EP</div>
                            <div class="seat-stack" id="seat-stack-0">100BB</div>
                        </div>
                    </div>
                    <div class="seat seat-mp" onclick="selectPosition(1)">
                        <div class="seat-box">
                            <div class="seat-position">MP</div>
                            <div class="seat-stack" id="seat-stack-1">100BB</div>
                        </div>
                    </div>
                    <div class="seat seat-hj" onclick="selectPosition(2)">
                        <div class="seat-box">
                            <div class="seat-position">HJ</div>
                            <div class="seat-stack" id="seat-stack-2">100BB</div>
                        </div>
                    </div>
                    <div class="seat seat-co" onclick="selectPosition(3)">
                        <div class="seat-box">
                            <div class="seat-position">CO</div>
                            <div class="seat-stack" id="seat-stack-3">100BB</div>
                        </div>
                    </div>
                    <div class="seat seat-btn" onclick="selectPosition(4)">
                        <div class="seat-box">
                            <div class="seat-position">BTN</div>
                            <div class="seat-stack" id="seat-stack-4">100BB</div>
                        </div>
                    </div>
                    <!-- Dealer Button - posicionado na borda da mesa -->
                    <div class="dealer-btn" id="dealerBtn">D</div>
                    <div class="seat seat-sb" onclick="selectPosition(5)">
                        <div class="seat-box">
                            <div class="seat-position">SB</div>
                            <div class="seat-stack" id="seat-stack-5">100BB</div>
                        </div>
                    </div>
                    <div class="seat seat-bb" onclick="selectPosition(6)">
                        <div class="seat-box">
                            <div class="seat-position">BB</div>
                            <div class="seat-stack" id="seat-stack-6">100BB</div>
                        </div>
                    </div>
                </div>

                <div class="mesa-hint">üí° Clique em qualquer posi√ß√£o para ver seu <span>RFI</span></div>

                <!-- Hist√≥rico de A√ß√µes -->
                <div class="history-panel" id="historyPanel">
                    <div class="history-title">HIST√ìRICO DE A√á√ïES</div>
                    <div class="history-content" id="historyContent">
                        <div class="history-empty">Selecione uma posi√ß√£o para iniciar</div>
                    </div>
                </div>

                <!-- Stats Panel -->
                <div class="stats-panel">
                    <div class="stats-title">STATS ‚Ä¢ <span id="statsPosition">-</span></div>
                    <div class="stats-row">
                        <div class="stat-item">
                            <div class="stat-item-label">FOLD</div>
                            <div class="stat-item-value stat-fold" id="statFold">-</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-item-label">CALL</div>
                            <div class="stat-item-value stat-call" id="statCall">-</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-item-label">RAISE</div>
                            <div class="stat-item-value stat-raise" id="statRaise">-</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Center Panel - Range Grid -->
            <div class="center-panel">
                <div class="range-header">
                    <span class="range-stack-label" id="rangeStackLabel">100BB</span>
                    <span class="range-title">Range: <span id="rangePosition">-</span></span>
                </div>

                <div class="range-grid" id="rangeGrid"></div>

                <!-- Actions -->
                <div class="actions-panel" id="actionsPanel">
                    <div class="actions-title">A√á√ïES DISPON√çVEIS</div>
                    <div class="actions-row" id="actionsRow"></div>
                    <div class="actions-hint"><span class="dot"></span>Borda azul = pr√≥ximo n√≥ dispon√≠vel</div>
                </div>
            </div>

            <!-- Right Panel - Frequencies -->
            <div class="right-panel">
                <div class="freq-title">FREQU√äNCIAS DO RANGE</div>
                <div id="freqList"></div>

                <!-- Modos de An√°lise -->
                <div class="analysis-panel">
                    <!-- Bubble Factor (inativo) -->
                    <div class="bubble-factor disabled">
                        <input type="checkbox" disabled>
                        <div class="bubble-info">
                            <span class="bubble-title">Bubble Factor</span>
                            <span class="bubble-status">N√£o dispon√≠vel para esta tree</span>
                        </div>
                    </div>
                    
                    <div class="analysis-title">Modos de An√°lise</div>
                    
                    <button class="analysis-btn" id="btnMelhorEV" onclick="toggleMelhorEV()">
                        <span class="analysis-icon-bar">
                            <span class="bar bar-green"></span>
                            <span class="bar bar-yellow"></span>
                            <span class="bar bar-red"></span>
                        </span>
                        <span>Melhor EV</span>
                    </button>
                    
                    <button class="analysis-btn" id="btnExploit" onclick="toggleExploit()">
                        <span class="analysis-icon-tent">üé™</span>
                        <span>Ativar Exploit</span>
                    </button>
                    
                    <div class="exploit-controls" id="exploitControls" style="display: none;">
                        <div class="exploit-header">
                            <span class="exploit-label">B√¥nus:</span>
                            <span class="exploit-value-display" id="exploitValueDisplay">+1%</span>
                        </div>
                        <input type="number" id="exploitSlider" value="1" min="-10" max="10" oninput="updateExploit(this.value)">
                    </div>
                    
                    <div class="analysis-status">
                        <div class="status-title">Status dos Ranges:</div>
                        <div class="status-value" id="analysisStatus">
                            <span class="status-icon">üìä</span>
                            <span>Range Original</span>
                        </div>
                    </div>
                    
                    <div class="analysis-help" onclick="showAnalysisHelp()">
                        <span class="help-icon">?</span>
                        <span>Ajuda</span>
                    </div>
                </div>

                <div class="hand-details" id="handDetails">
                    <div class="hand-details-title">DETALHES DA M√ÉO</div>
                    <div class="hand-details-name" id="handName">-</div>
                    <div class="hand-ev-list" id="handEvList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================
         TELA 4: VISUALIZADOR HU (HEADS-UP)
         ============================================ -->
    <div class="app-container" id="appContainerHU">
        <!-- Header -->
        <div class="viz-header">
            <div class="viz-header-left">
                <span class="brain-icon">üß†</span>
                <div>
                    <div class="viz-logo">CEREBRO</div>
                    <div class="viz-subtitle">HEADS-UP ‚Ä¢ Texas Hold'em</div>
                </div>
            </div>
            <div class="viz-header-center">
                <div class="stat-box">
                    <div class="stat-number" id="statSpotsHU">-</div>
                    <div class="stat-label">SPOTS</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number" id="statStacksHU">-</div>
                    <div class="stat-label">STACKS</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">2</div>
                    <div class="stat-label">POSI√á√ïES</div>
                </div>
            </div>
            <button class="menu-btn" onclick="showPhaseScreen()">‚Üê Menu Principal</button>
        </div>

        <!-- Stack Bar -->
        <div class="stack-bar" id="stackBarHU"></div>

        <!-- Main Content -->
        <div class="viz-main">
            <!-- Left Panel - Mesa HU -->
            <div class="left-panel">
                <div class="left-panel-header">
                    <button class="back-btn" onclick="goBackHU()">‚Üê Voltar</button>
                    <span class="position-badge" id="heroBadgeHU">?</span>
                </div>
                <div class="mesa-header">
                    <div class="mesa-label">HEADS-UP</div>
                    <div class="mesa-stack-label" id="mesaStackLabelHU">100BB</div>
                </div>

                <!-- Mesa HU (2 jogadores) -->
                <div class="mesa-container mesa-hu">
                    <div class="mesa-oval mesa-oval-hu">
                        <div class="mesa-center">
                            <div class="mesa-title">HEADS-UP</div>
                            <div class="mesa-blinds">0.5bb / 1bb</div>
                            <div class="mesa-blinds-label">Blinds</div>
                        </div>
                    </div>
                    <!-- Seats HU - apenas SB e BB -->
                    <div class="seat seat-hu-sb" onclick="selectPositionHU(0)">
                        <div class="seat-box">
                            <div class="seat-position">SB</div>
                            <div class="seat-stack" id="seat-stack-hu-0">100BB</div>
                        </div>
                    </div>
                    <!-- Dealer Button -->
                    <div class="dealer-btn dealer-btn-hu" id="dealerBtnHU">D</div>
                    <div class="seat seat-hu-bb" onclick="selectPositionHU(1)">
                        <div class="seat-box">
                            <div class="seat-position">BB</div>
                            <div class="seat-stack" id="seat-stack-hu-1">100BB</div>
                        </div>
                    </div>
                </div>

                <div class="mesa-hint">üí° Clique em uma posi√ß√£o para ver seu range</div>

                <!-- Hist√≥rico de A√ß√µes HU -->
                <div class="history-panel" id="historyPanelHU">
                    <div class="history-title">HIST√ìRICO DE A√á√ïES</div>
                    <div class="history-content" id="historyContentHU">
                        <div class="history-empty">Selecione uma posi√ß√£o para iniciar</div>
                    </div>
                </div>

                <!-- Stats HU -->
                <div class="stats-panel">
                    <div class="stats-header">
                        <span>Stats - </span>
                        <span id="statsPositionHU">?</span>
                    </div>
                    <div class="stats-badges" id="statsBadgesHU">
                        <div class="stat-badge fold">F --</div>
                        <div class="stat-badge call">C --</div>
                        <div class="stat-badge raise">R --</div>
                    </div>
                    <div class="field-info">
                        <div class="field-header">
                            <span>FIELD EST.</span>
                            <span>TOTAL</span>
                            <span>PAGOS</span>
                        </div>
                        <div class="field-values">
                            <span>Est.</span>
                            <span>~2</span>
                            <span>1</span>
                        </div>
                    </div>
                </div>

                <div class="phase-indicator">
                    <div class="phase-label">Fase do Torneio</div>
                    <div class="phase-value">Heads-Up</div>
                </div>
            </div>

            <!-- Center Panel - Range Grid HU -->
            <div class="center-panel">
                <div class="range-header">
                    <span class="range-stack" id="rangeStackLabelHU">100BB</span>
                    <span class="range-title">Range: </span>
                    <span class="range-position" id="rangePositionHU">?</span>
                </div>
                <div class="range-grid" id="rangeGridHU"></div>
                
                <!-- Actions HU -->
                <div class="actions-panel" id="actionsPanelHU">
                    <div class="actions-title">A√á√ïES DISPON√çVEIS</div>
                    <div class="actions-row" id="actionsRowHU"></div>
                    <div class="actions-hint"><span class="dot"></span>Borda azul = pr√≥ximo n√≥ dispon√≠vel</div>
                </div>
            </div>

            <!-- Right Panel - Frequencies HU -->
            <div class="right-panel">
                <div class="freq-title">FREQU√äNCIAS DO RANGE</div>
                <div id="freqListHU"></div>

                <!-- Modos de An√°lise HU -->
                <div class="analysis-panel">
                    <div class="bubble-factor disabled">
                        <input type="checkbox" disabled>
                        <div class="bubble-info">
                            <span class="bubble-title">Bubble Factor</span>
                            <span class="bubble-status">N√£o dispon√≠vel para HU</span>
                        </div>
                    </div>
                    
                    <div class="analysis-title">Modos de An√°lise</div>
                    
                    <button class="analysis-btn" id="btnMelhorEVHU" onclick="toggleMelhorEVHU()">
                        <span class="analysis-icon-bar">
                            <span class="bar bar-green"></span>
                            <span class="bar bar-yellow"></span>
                            <span class="bar bar-red"></span>
                        </span>
                        <span>Melhor EV</span>
                    </button>
                    
                    <button class="analysis-btn" id="btnExploitHU" onclick="toggleExploitHU()">
                        <span class="analysis-icon-tent">üé™</span>
                        <span>Ativar Exploit</span>
                    </button>
                    
                    <div class="exploit-controls" id="exploitControlsHU" style="display: none;">
                        <div class="exploit-header">
                            <span class="exploit-label">B√¥nus:</span>
                            <span class="exploit-value-display" id="exploitValueDisplayHU">+1%</span>
                        </div>
                        <input type="number" id="exploitSliderHU" value="1" min="-10" max="10" oninput="updateExploitHU(this.value)">
                    </div>
                    
                    <div class="analysis-status">
                        <div class="status-title">Status dos Ranges:</div>
                        <div class="status-value" id="analysisStatusHU">
                            <span class="status-icon">üìä</span>
                            <span>Range Original</span>
                        </div>
                    </div>
                    
                    <div class="analysis-help" onclick="showAnalysisHelp()">
                        <span class="help-icon">?</span>
                        <span>Ajuda</span>
                    </div>
                </div>

                <div class="hand-details" id="handDetailsHU">
                    <div class="hand-details-title">DETALHES DA M√ÉO</div>
                    <div class="hand-details-name" id="handNameHU">-</div>
                    <div class="hand-ev-list" id="handEvListHU"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal de Ajuda -->
    <div class="help-modal" id="helpModal" style="display: none;">
        <div class="help-modal-content">
            <div class="help-modal-header">
                <span class="help-modal-icon">üí°</span>
                <span>Modos de An√°lise</span>
                <button class="help-close" onclick="closeAnalysisHelp()">√ó</button>
            </div>
            <div class="help-section">
                <div class="help-section-title">
                    <span class="analysis-icon-bar">
                        <span class="bar bar-green"></span>
                        <span class="bar bar-yellow"></span>
                        <span class="bar bar-red"></span>
                    </span>
                    <span class="help-title-text">Melhor EV (GTO)</span>
                </div>
                <p>Mostra a a√ß√£o com maior valor esperado para cada m√£o, baseado em an√°lise GTO.</p>
            </div>
            <div class="help-section">
                <div class="help-section-title">
                    <span class="analysis-icon-tent">üé™</span>
                    <span class="help-title-text exploit-color">Exploit Mode</span>
                </div>
                <p>Ajusta as estrat√©gias baseado em exploits. Use o controle de b√¥nus para configurar:</p>
                <ul>
                    <li><span class="positive">Valores positivos:</span> Mais agressivo</li>
                    <li><span class="negative">Valores negativos:</span> Mais conservador</li>
                </ul>
            </div>
            <div class="help-tip">
                <span class="tip-icon">üí°</span>
                <span><strong>Dica:</strong> Os controles de exploit e GTO afetam diretamente a visualiza√ß√£o dos ranges. Experimente diferentes valores para ver como as estrat√©gias mudam!</span>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data/spots.js"></script>
    <script src="data/spots_hu.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
